**关键词：事件通知**

# 基本理解
* 此模式也称为：订阅/发布模式。
* 当多个订阅者订阅同一个主题时，一旦此主题发生更新，就通知所有订阅此主题的对象，并执行它们的回调函数。
* 订阅者的行为就好像我们订阅某一个电台，当电台发布新的消息时，所有的订阅者都会收到。
* 电台就是一个发布者，发布者可以在必要的时候发出消息。
* 订阅和发布两个操作都交由中间的管理者(类似调度中心)来执行，这样可以解耦发布者和订阅者，且可以做额外的控制管理。
* 观察者模式非常类似于路由交换中的组播，客户可以订阅某一个网段，一旦此网段有发布报文，客户就会处理。


# 注意
* 订阅者要实现一个回调函数，因为当发布者状态改变的时候，要调用每一个订阅者的回调函数以通知。
* 订阅者的回调函数的含义是: 我订阅某个主题后，若此主题有更新，则通过此回调函数通知我，我会预先定义好回调函数中的逻辑。

# 应用场景
* 此模式可以应用在需要监听的业务场景上。
* 适合事件驱动的场景。
* 适合像组播一样的通告场景。
 
# 原生观察者模式的不足
* 订阅者的回调函数被抽象化成仅有一个，当一个订阅者订阅了多个主题，且多个主题都发生状态改变的时候，将会调用同一个回调函数。
* 若需要实现多个主题的变化调用订阅者的不同回调函数则无法处理。
* 此外，订阅者的类需要单独编写，很多时候我们是直接将业务中已有的某个对象作为订阅者，不希望修改已有对象的代码。
* 发布者直接调用订阅者的回调函数，模式中只有两个类，这样发布者和订阅者强烈耦合。

# 改进
* 不要抽象化订阅者的回调函数，应该针对同一个订阅者的不同主题设计不同的回调函数(增加一个handler类处理)
* 要在发布者和订阅者之间添加一个管理者(类似调度中心的角色)，由管理者负责处理订阅和发布的实现。
* 发布者不再直接通知每一个订阅者，而是通知管理者，由管理者去处理发布的操作。
