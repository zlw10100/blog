## 基本语言特性
函数是几乎任何程序语言都支持的基本语言特性。然而，不同的语言对函数的看法却是不同的，这不仅导致了函数在语言中的地位，也产生出了不同的编程风格。
在scheme语言中，函数与普通数据别无二致，所以自然而然的将函数作为第一类对象，同时scheme更强函数式编程和函数递归，以追求计算的本质。
在java中，函数与普通数据是区分开的，即函数不能直接被传递，只能被包裹到类中再通过实例对象被传递，高度的强调面向对象编程。
在python中，函数也被当做第一类对象，支持少量的函数式编程风格，但依然以面向对象为主。

## 关于第一类对象的思考
所谓第一类对象，就是指这样的一种对象：
- 可以赋值给变量
- 可以传参给函数
- 可以从函数中传出

第一句话其实已经包含了后两句，所以它们可以概括为一句话：类似23，'hello'，True，instance这种**可以赋值给变量的对象。**

首先，**我觉得编程语言应该将函数对象作为第一类对象，这应该成为编程语言的标准特性**，函数对象和数字23没有什么区别，它们本质上都是数据，所以函数对象可以和普通数据一样被各种操作。但在java中，函数对象被看成与普通数据是不同的，这一点我觉得并不合理。如果在java中要传递一个函数对象，还必须首先将它包裹到一个类中，寄宿到一个实例对象中才能传递。

其次，将函数作为第一类对象，本来就是应该具有的语言特性，并不能说某种语言（如python）支持此特性，就觉得另一种不支持此特性的语言（如java）更差劲。

此外，支持此特性，可以让我们以函数式风格编写代码，在某些场景下，比面向对象风格的代码更有表达力和更好的封装性。


## 函数的定义
在python中使用如下语句定义一个函数对象：
```python3
def add(x, y):
	print('this is function add')
	result = x + y
	return result
```
思考这个函数定义，它包含了几方面的内容：
- 使用python的关键字def，目的是告诉python解释器后续是一个函数定义，以便使用Function类实例化一个函数对象。
- 定义了add作为函数对象的变量名，此时函数对象作为第一类对象。
- 定义了参数列表（x, y)
- 定义了函数体
- 定义了返回值result

一个函数被定义完毕，将会存放在堆上以便被共享调用。
因为add是此函数的引用，add存在于此函数定义处的上下文环境中。

## 函数的使用
```python3
result = add(2, 3)
print(result)
```

## 函数是描述符对象
因为函数是一个对象，python中内置了一个dir函数可以查看对象的所有属性信息。
如果仔细的查看可以看到，每一个函数对象的dir结果中，都有一个__get__函数。
这表示：
1. python内置的Fucntion类中肯定定义了此`__get__`函数。
2. 此`__get__`函数可以解释实例方法的执行流程，即为啥调用实例方法的时候会自动传递self。

## 函数是语句集合的抽象
因为一个函数体中包含多条语句，这些语句有着高度统一的目标，都想为统一的目标贡献自己的力量。不同目标的语句应该放在不同的函数中。函数作为多条语句的抽象，而类又作为多个函数的抽象，然后模块又作为多个类的抽象，这是一个层次关系，目的都是为了提供良好的封装以降低程序的复杂度，提升模块化。

## 函数是执行单元
严格来说，语句才是最小的执行单元，但是我们一般站在函数的角度来表达一个程序（因为站在语句的角度的话，代码量太大了）。当函数成为一个线程的执行单元时，我们对程序的编写就可以转换成：如何合理的设计函数。这种思路倾向于函数式编程。
把函数作为执行单元，还有一个特点是，程序的执行是按照函数栈执行的，我们可以中断和恢复函数以实现协程异步。