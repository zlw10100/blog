## 数据的存储

1. 数据是游离在世界中的。
2. 我们需要一个容器来盛放数据，就像用一个杯子盛放水，我们使用硬盘或者内存来存放数据。
3. 但我们不会直接操作"数据本身"，而是通过操作"数据的地址"间接的操作数据。

## 数据的表示

4. 数据的地址使用某一个变量名来表示(其实就是把一串地址用可读的变量名指代，就像域名指代ip地址一样)。
5. 一个普通的变量，即直接指向某一个真实数据的变量，就是原始/基本数据类型，不可再分。(等价一个普通的ip地址)
6. 一个复合的变量，即由多个普通变量组合而成，就是复合/引用数据类型，可以再分。(等价一个网段，可以划分多个ip地址)
7. 复合变量的存在是数据结构的核心，因为一个最简单的复合变量就是一个数据结构，形状像一棵树(只有一层)。

    ```python3
    student.name = 'zlw'
    student.age = 28
    # student就是一个复合变量，name和age是普通变量
    # 结构就像这样:
    #          ----> name --> 'zlw'
    # student  |
    #          ----> age --> 28
    ```

8. 将多个普通/复合变量组合，可以形成多种形状，直线型的就是数组、链表，分叉型的就是树，环形的就是图。
我们常见的数据结构：数组、链表、队列、栈、堆、二叉树、多叉树、图等，都是由这些普通/复合变量组合而成，就像搭积木一样。
9. 数据结构存放着真实数据的地址/引用，即使存放的是真实数据的索引，那实质上也是存放着索引的地址。
10. 我们通过操作数据结构来间接的操作真实数据，所以数据结构是我们操作真实数据的桥梁。

## 数据的无序

11. 默认情况下，所有的数据都是无序的(可以引入到热力学定律？)
12. 增删改查是对数据的操作集合，**所有操作都可以归类到这四种之一。**
13. 增删改和查可以明显划分两类，前一类对数据有修改(如内容、数量)，后一类不对数据有任何修改。好像是所谓幂等？
14. **删和改一定要基于查询**，因为必须要先找到数据，才能删除或者修改内容。
15. 所以无序的情况下，增加数据的操作是O(1)，因为不需要考虑任何顺序，扔进去就行。
16. 删、改的性能基本取决于查询，无序数据的查询操作是O(n)，即遍历、全文搜索。
17. 完成搜索后的删除和修改操作是O(1)。
18. 所以，无序情况下，只有增加是O(1)，删改查都是O(n)。
19. 这是一种复杂度不平衡的情况，我们大部分的应用场景都是查询居多(应该说是一定，因为删和改基于查询，而只有增加操作的数据没有意义)。
20. 如果可以提升查询效率，那么删改查的效率会整体提升。

## 数据的有序

**排序的本质是什么？
首先，什么是有序：就是为无规律的事物提供一个外来的规则，使得它们有规律。
什么是排序：就是为无序的数据，提供一个基于比较的规则，使得它们有先后顺序。**

21. 之所以查询效率低下，是因为，数据无序，所以只能一个个判断是否是指定数据。
22. 为了提升查询效率，就要给无序数据规定一个排列规则(就像增加外力以使得元素有序一样)。
23. 排序是一种基于比较的排列规则，两个数据之间必须要能执行比较操作。
24. 绝大部分排列规则都可以转换成基于比较的排序。
25. **问题：为什么顺序依赖的排列规则一定可以转换成比较？**
26. 排序的过程，就是排序算法的应用，排序的目的就是建立规则。

## 基于有序的搜索

27. 一旦完成排序，搜索就可以根据排序的规则进行查询，而且是树形搜索，所以理论上最优复杂度是O(logn)
28. 所以查询、删除、修改有了效率提升，从O(n) -> O(logn)

## 对规则的破坏操作

29. 增加、删除、修改操作可能会破坏排列规则，而查询不会
30. 所以增删改操作需要额外的操作来维持排列规则，这些额外的操作就是开销。
31. 额外开销一般都是常数级别的操作。
32. 无序操作复杂度：
    增 O(1)
    删 O(n) + O(1)  # 查询+删除操作
    改 O(n) + O(1)  # 查询+修改操作
    查 O(n)
    有序操作复杂度：
    增 O(1) + O(1)  # 增加+规则维护操作
    删 O(logn) + O(1) + O(1)  # 查询+删除+规则维护操作
    改 O(logn) + O(1) + O(1)  # 查询+修改+规则维护操作
    查 O(logn)

    整体操作性能是有很大提升的，当然，这个提升的成本就是程序员需要编写更多的代码来**建立规则+维护规则。**

## 总结
1. 为无序数据建立排列规则，以提升搜索的效率，排序。
2. 根据排列规则进行搜索。
3. 为增删改定义规则维护操作。
4. 不同的数据结构有不同的排列规则，这些均由程序员定义和维护。
